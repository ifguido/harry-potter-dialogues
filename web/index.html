<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />

    <!-- SEO -->
    <meta
      name="description"
      content="Search any word or phrase and instantly jump to the exact scene in Harry Potter and the Sorcerer's Stone."
    />
    <link rel="canonical" href="https://harrypotterdialogues.com/" />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="#000000" />

    <!-- Open Graph -->
    <meta property="og:site_name" content="Harry Potter Dialogues" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://harrypotterdialogues.com/" />
    <meta property="og:title" content="Harry Potter Dialogues" />
    <meta
      property="og:description"
      content="Search any word or phrase and instantly jump to the exact scene."
    />
    <meta
      property="og:image"
      content="https://harrypotterdialogues.com/favicon.png"
    />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Harry Potter Dialogues" />
    <meta
      name="twitter:description"
      content="Search any word or phrase and instantly jump to the exact scene."
    />
    <meta
      name="twitter:image"
      content="https://harrypotterdialogues.com/favicon.png"
    />

    <title>Harry Potter Dialogues</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="icon" href="/favicon.png" type="image/png" />

    <link rel="stylesheet" href="./styles/styles.css" />
  </head>

  <body>
    <div class="stage" id="stage">
      <video id="video" autoplay muted playsinline>
        <track
          data-i18n-attr="label:track.subtitles"
          label="Subtitles"
          kind="subtitles"
          srclang="en"
          src="/public/movie.vtt"
          default
        />
      </video>

      <!-- Custom subtitles overlay (lets us highlight the matched query reliably) -->
      <div class="subs" id="subs" aria-live="polite"></div>

      <div class="clip-overlay" id="clip-overlay" aria-live="polite">
        <div class="clip-overlay__card" role="status">
          <div class="clip-overlay__title" data-i18n="clipEnded.title">
            Clip ended
          </div>
          <div class="clip-overlay__text" data-i18n="clipEnded.text">
            Search another word or phrase.
          </div>
          <button
            type="button"
            id="clip-overlay-btn"
            data-i18n="clipEnded.button"
          >
            Search
          </button>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>
    <div class="hud" id="hud">
      <form
        class="search"
        id="form"
        autocomplete="off"
        action="javascript:void(0)"
      >
        <input
          id="query"
          data-i18n-placeholder="search.placeholder"
          placeholder="Search an English word or phrase — Harry Potter 1"
          inputmode="search"
          enterkeyhint="search"
        />
        <label
          class="lang"
          for="lang"
          data-i18n-attr="aria-label:lang.label"
          aria-label="Language"
        >
          <select id="lang">
            <option value="en">EN</option>
            <option value="es">ES</option>
            <option value="pt">PT</option>
          </select>
        </label>
        <button type="submit" data-i18n="search.button">Search</button>
      </form>
      <div class="status" id="status" aria-live="polite"></div>
    </div>

    <!-- HLS.js fallback for browsers without native HLS support (Safari uses native HLS) -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    <!-- Analytics (Firebase) -->
    <script type="module" src="./scripts/analytics.js"></script>

    <!-- App entry -->
    <script type="module" src="./scripts/main.js"></script>

    <footer class="legal">
      <a
        class="legal__github"
        href="https://github.com/ifguido/harry-potter-dialogues"
        target="_blank"
        rel="noopener noreferrer"
        aria-label="GitHub repository"
        title="GitHub"
      >
        <svg
          viewBox="0 0 24 24"
          width="18"
          height="18"
          aria-hidden="true"
          focusable="false"
        >
          <path
            fill="currentColor"
            d="M12 .5C5.73.5.75 5.67.75 12.06c0 5.12 3.29 9.46 7.86 10.99.58.11.79-.26.79-.58 0-.29-.01-1.04-.02-2.05-3.2.71-3.88-1.59-3.88-1.59-.52-1.36-1.27-1.72-1.27-1.72-1.04-.73.08-.72.08-.72 1.15.08 1.75 1.21 1.75 1.21 1.02 1.79 2.68 1.27 3.33.97.1-.76.4-1.27.72-1.56-2.55-.3-5.23-1.31-5.23-5.84 0-1.29.44-2.34 1.17-3.17-.12-.3-.51-1.52.11-3.18 0 0 .96-.31 3.14 1.21.91-.26 1.88-.38 2.85-.38.97 0 1.95.13 2.85.38 2.18-1.52 3.14-1.21 3.14-1.21.62 1.66.23 2.88.11 3.18.73.83 1.17 1.88 1.17 3.17 0 4.54-2.68 5.53-5.24 5.83.41.36.77 1.08.77 2.18 0 1.57-.02 2.84-.02 3.23 0 .32.21.7.8.58 4.56-1.53 7.85-5.87 7.85-10.99C23.25 5.67 18.27.5 12 .5z"
          />
        </svg>
      </a>
      <button id="open-legal" data-i18n="legal.open">
        Educational disclaimer
      </button>
    </footer>

    <div class="legal-modal" id="legal-modal">
      <div class="legal-content">
        <button class="close" id="close-legal">×</button>
        <h2 data-i18n="legal.title">Educational Disclaimer</h2>
        <p data-i18n="legal.p1">
          This project is an independent, non-commercial educational experiment.
        </p>
        <p data-i18n-html="legal.p2">
          I do not own the rights to <em>Harry Potter</em>, its movies,
          characters, or related intellectual property. All rights belong to
          <strong>Warner Bros. Entertainment</strong> and
          <strong>J.K. Rowling</strong>.
        </p>
        <p data-i18n="legal.p3">
          This website is intended solely to demonstrate a technical concept:
          real-time subtitle indexing and video seeking.
        </p>
        <p data-i18n-html="legal.p4">
          No movie files are distributed with this project. The public
          repository does <strong>not</strong> include any copyrighted video or
          subtitle files. Any media used must be provided by the user from a
          legally obtained source.
        </p>
        <p data-i18n="legal.p5">
          If this project causes any concern, I sincerely apologize and will
          address it immediately.
        </p>
      </div>
    </div>
  </body>
</html>
